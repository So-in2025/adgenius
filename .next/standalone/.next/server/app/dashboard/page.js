(()=>{var e={};e.id=702,e.ids=[702],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},4577:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},5606:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=s(7096),a=s(6132),i=s(7284),l=s.n(i),o=s(2564),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);s.d(t,n);let c=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1618)),"C:\\Users\\VK 690\\Documents\\01.PROYECTO SO IN\\ADGENIUS\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5345)),"C:\\Users\\VK 690\\Documents\\01.PROYECTO SO IN\\ADGENIUS\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\VK 690\\Documents\\01.PROYECTO SO IN\\ADGENIUS\\app\\dashboard\\page.tsx"],u="/dashboard/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},658:(e,t,s)=>{Promise.resolve().then(s.bind(s,8661))},8661:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Dashboard});var r=s(784),a=s(9885),i=s(7114),l=s(3129),o=s(1522),n=s(6925);function Dashboard(){let[e,t]=(0,a.useState)(null),[s,c]=(0,a.useState)([]),[d,u]=(0,a.useState)({title:"",prompt:"",style:"professional",duration:"30"}),[x,p]=(0,a.useState)(!1),[m,h]=(0,a.useState)("create"),b=(0,i.useRouter)();(0,a.useEffect)(()=>{let e=(0,l.Aj)(n.I8,async e=>{if(e){let s=await (0,o.QT)((0,o.JU)(n.db,"users",e.uid));s.exists()?t({uid:e.uid,...s.data()}):b.push("/login")}else b.push("/login")}),s=localStorage.getItem("projects");return s&&c(JSON.parse(s)),()=>e()},[b]);let generateScript=async()=>{if(!e||e.credits<=0){alert("No tienes cr\xe9ditos disponibles. Reg\xedstrate para obtener 3 cr\xe9ditos gratis.");return}if(!d.prompt.trim()){alert("Por favor, describe tu anuncio primero.");return}p(!0);try{let r=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),a=await r.json();if(a.success){let r={id:Date.now().toString(),title:d.title||`Proyecto ${s.length+1}`,prompt:d.prompt,script:a.script,videoUrl:a.videoUrl,thumbnail:a.thumbnail,style:d.style,duration:d.duration,createdAt:new Date().toISOString(),status:"completed"},i=[r,...s];c(i),localStorage.setItem("projects",JSON.stringify(i)),n.I8.currentUser&&(await (0,o.r7)((0,o.JU)(n.db,"users",n.I8.currentUser.uid),{credits:e.credits-1}),t({...e,credits:e.credits-1})),u({title:"",prompt:"",style:"professional",duration:"30"}),alert('\xa1Guion generado exitosamente! Revisa la pesta\xf1a "Mis Proyectos".')}}catch(e){console.error("Error:",e),alert("Error al generar el guion. Intenta nuevamente.")}p(!1)},handleLogout=async()=>{try{await (0,l.w7)(n.I8),localStorage.removeItem("projects"),b.push("/")}catch(e){console.error("Error al cerrar sesi\xf3n:",e)}};return e?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm",children:r.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-xl font-bold",children:["Hola, ",e.name," \uD83D\uDC4B"]}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Crea anuncios incre\xedbles con IA"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:[e.credits," cr\xe9ditos restantes"]}),r.jsx("button",{onClick:handleLogout,className:"text-gray-600 hover:text-gray-900 text-sm",children:"Cerrar sesi\xf3n"})]})]})})}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[(0,r.jsxs)("div",{className:"tabs flex space-x-4 mb-8",children:[r.jsx("button",{className:`tab ${"create"===m?"tab-active":""}`,onClick:()=>h("create"),children:"\uD83C\uDFAC Crear Nuevo"}),(0,r.jsxs)("button",{className:`tab ${"projects"===m?"tab-active":""}`,onClick:()=>h("projects"),children:["\uD83D\uDCC1 Mis Proyectos (",s.length,")"]})]}),"create"===m&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Generar Nuevo Anuncio"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"T\xedtulo del proyecto"}),r.jsx("input",{type:"text",placeholder:"Ej: Anuncio Restaurant Italiano",value:d.title,onChange:e=>u({...d,title:e.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Estilo del video"}),(0,r.jsxs)("select",{value:d.style,onChange:e=>u({...d,style:e.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg",children:[r.jsx("option",{value:"professional",children:"\uD83C\uDFAF Profesional"}),r.jsx("option",{value:"casual",children:"\uD83D\uDE0A Casual"}),r.jsx("option",{value:"emotional",children:"❤️ Emocional"}),r.jsx("option",{value:"modern",children:"\uD83D\uDE80 Moderno"})]})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Descripci\xf3n del anuncio *"}),r.jsx("textarea",{placeholder:"Describe tu producto o servicio... Ej: 'Anuncio para redes sociales de un restaurante italiano elegante'",value:d.prompt,onChange:e=>u({...d,prompt:e.target.value}),rows:4,className:"w-full p-3 border border-gray-300 rounded-lg"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Duraci\xf3n (segundos)"}),r.jsx("input",{type:"number",value:d.duration,onChange:e=>u({...d,duration:e.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg",min:"15",max:"60"})]})]}),r.jsx("button",{onClick:generateScript,disabled:x||e.credits<=0||!d.prompt.trim(),className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Generando...":`✨ Generar Guion (${e.credits} cr\xe9ditos)`}),0===e.credits&&r.jsx("div",{className:"mt-4 p-4 bg-yellow-100 border border-yellow-400 rounded-lg",children:r.jsx("p",{className:"text-yellow-800",children:"\xa1No tienes cr\xe9ditos disponibles! Actualiza tu plan."})})]}),"projects"===m&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Mis Proyectos"}),(0,r.jsxs)("span",{className:"text-gray-600",children:[s.length," proyectos"]})]}),0===s.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDCC1"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No hay proyectos a\xfan"}),r.jsx("p",{className:"text-gray-600",children:"Crea tu primer anuncio para verlo aqu\xed"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,r.jsxs)("div",{className:"relative h-48 bg-gray-200",children:[r.jsx("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:r.jsx("button",{onClick:()=>window.open(e.videoUrl,"_blank"),className:"bg-white text-gray-800 px-4 py-2 rounded-lg font-semibold",children:"▶️ Ver Video"})})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:"font-semibold text-lg",children:e.title}),r.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm",children:e.style})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-3",children:new Date(e.createdAt).toLocaleDateString("es-ES")}),(0,r.jsxs)("p",{className:"text-gray-700 text-sm mb-4 line-clamp-3",children:[e.script.substring(0,100),"..."]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"flex-1 bg-gray-100 text-gray-700 py-2 rounded text-sm",children:"\uD83D\uDCCB Copiar Guion"}),r.jsx("button",{className:"flex-1 bg-gray-100 text-gray-700 py-2 rounded text-sm",children:"\uD83C\uDFAC Renderizar"})]})]})]},e.id))})]})]})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando dashboard..."})]})})}},1618:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>i,default:()=>n});var r=s(5153);let a=(0,r.createProxy)(String.raw`C:\Users\VK 690\Documents\01.PROYECTO SO IN\ADGENIUS\app\dashboard\page.tsx`),{__esModule:i,$$typeof:l}=a,o=a.default,n=o}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[472,882,158,645],()=>__webpack_exec__(5606));module.exports=s})();